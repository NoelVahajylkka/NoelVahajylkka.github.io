<form id="comment-form">
    <input type="text" id="full-name" placeholder="Your Full Name" required>
    <input type="email" id="email" placeholder="Your Email" required>
    <textarea id="comment-text" placeholder="Add your comment" required></textarea>
    <button type="submit">Submit</button>
  </form>

  <!-- Display comments -->
<ul id="comments-list"></ul>

<script>
  const commentForm = document.getElementById('comment-form');
  const commentsList = document.getElementById('comments-list');

  commentForm.addEventListener('submit', async (e) => {
    e.preventDefault();

    const author = document.getElementById('author').value;
    const text = document.getElementById('comment-text').value;

    const response = await fetch('/comments', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ author, text })
    });

    if (response.ok) {
      // Add the comment to the list
      const comment = await response.json();
      const listItem = document.createElement('li');
      listItem.textContent = `${comment.author}: ${comment.text}`;
      commentsList.appendChild(listItem);
    }
  });

  // Load existing comments
  async function loadComments() {
    const response = await fetch('/comments');
    const comments = await response.json();

    comments.forEach((comment) => {
      const listItem = document.createElement('li');
      listItem.textContent = `${comment.author}: ${comment.text}`;
      commentsList.appendChild(listItem);
    });
  }

  loadComments();
</script>